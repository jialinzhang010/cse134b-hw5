<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Contact Form (With JS)</title>
    <link rel="stylesheet" href="css/hw4.css">
    <script src="form-with-js.js" defer></script>
</head>

<body>
    <header class="site-header">
        <button id="theme-toggle" type="button">Toggle theme</button>
        <noscript>
            <p class="no-js-note">Theme toggle requires JavaScript.</p>
        </noscript>
    </header>
    <form id="contact-form" action="https://httpbin.org/post" method="post" novalidate>
        <h1>Contact Me</h1>

        <label for="name">Name<span aria-hidden="true">*</span></label>
        <input id="name" name="name" required pattern="[A-Za-z\s'-]+" />

        <label for="email">Email<span aria-hidden="true">*</span></label>
        <input id="email" name="email" type="email" required />

        <label for="comments">Comments<span aria-hidden="true">*</span></label>
        <textarea id="comments" name="comments" required maxlength="100"></textarea>

        <input type="hidden" name="possible_bot" value="true" />
        <input type="hidden" name="form-errors" id="form-errors" value="" />

        <output id="error-output" aria-live="polite"></output>
        <output id="info-output" aria-live="polite"></output>

        <p id="comment-counter" aria-live="polite"></p>

        <button type="submit">Send</button>
    </form>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const btn = document.getElementById("theme-toggle");
            if (!btn) return;

            btn.style.display = "inline-block";

            const stored = localStorage.getItem("theme");
            if (stored === "dark" || stored === "light") {
                document.documentElement.setAttribute("data-theme", stored);
            }

            btn.addEventListener("click", function () {
                const current = document.documentElement.getAttribute("data-theme");
                const next = current === "dark" ? "light" : "dark";
                document.documentElement.setAttribute("data-theme", next);
                localStorage.setItem("theme", next);
            });
        });
    </script>
</body>

</html>